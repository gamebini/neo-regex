<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>시각적 빌더 - NEO Regex</title>
    <meta name="description" content="드래그 앤 드롭으로 정규식을 시각적으로 만드는 혁신적인 빌더 도구입니다.">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="./src/styles/main.css">
    <link rel="stylesheet" href="./src/styles/components.css">
    <link rel="stylesheet" href="./src/styles/utilities.css">
</head>
<body class="font-inter">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="./index.html" class="nav-logo">
                    <i class="fas fa-code-branch text-primary"></i>
                    <span class="logo-text">NEO Regex</span>
                </a>
                <span class="beta-badge">BETA</span>
            </div>
            
            <ul class="nav-menu" id="nav-menu">
                <li><a href="./index.html" class="nav-link">홈</a></li>
                <li><a href="./tester.html" class="nav-link">테스터</a></li>
                <li><a href="./library.html" class="nav-link">패턴 라이브러리</a></li>
                <li><a href="./builder.html" class="nav-link active">시각적 빌더</a></li>
                <li class="nav-dropdown">
                    <a href="#" class="nav-link">가이드 <i class="fas fa-chevron-down ml-1"></i></a>
                    <div class="dropdown-content">
                        <a href="./beginner.html" class="dropdown-item">
                            <i class="fas fa-graduation-cap text-green-500"></i>
                            <div>
                                <div class="dropdown-title">초보자 가이드</div>
                                <div class="dropdown-desc">정규식 기초부터</div>
                            </div>
                        </a>
                        <a href="./expert.html" class="dropdown-item">
                            <i class="fas fa-rocket text-purple-500"></i>
                            <div>
                                <div class="dropdown-title">전문가 도구</div>
                                <div class="dropdown-desc">고급 기능 활용</div>
                            </div>
                        </a>
                    </div>
                </li>
            </ul>
            
            <div class="nav-actions">
                <button class="theme-toggle" id="theme-toggle" title="다크 모드 전환">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="mobile-menu-toggle" id="mobile-menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content builder-page">
        <!-- Header Section -->
        <section class="builder-header">
            <div class="container">
                <div class="header-content">
                    <div class="breadcrumb">
                        <a href="./index.html">홈</a>
                        <i class="fas fa-chevron-right"></i>
                        <span>시각적 빌더</span>
                    </div>
                    
                    <h1 class="page-title">
                        시각적 정규식 빌더
                        <span class="title-accent">드래그로 만드는 스마트 패턴</span>
                    </h1>
                    
                    <p class="page-subtitle">
                        복잡한 정규식을 직관적으로 구성하세요. 
                        코드 없이도 강력한 패턴을 만들 수 있습니다.
                    </p>
                    
                    <div class="builder-quick-actions">
                        <button class="btn-secondary" onclick="clearBuilder()">
                            <i class="fas fa-trash mr-2"></i>
                            초기화
                        </button>
                        <button class="btn-secondary" onclick="loadTemplate()">
                            <i class="fas fa-file-import mr-2"></i>
                            템플릿 불러오기
                        </button>
                        <button class="btn-primary" onclick="testInTester()">
                            <i class="fas fa-flask mr-2"></i>
                            테스터에서 확인
                        </button>
                        <button class="btn-primary" onclick="exportPattern()">
                            <i class="fas fa-download mr-2"></i>
                            내보내기
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Builder Workspace -->
        <section class="builder-workspace">
            <div class="container-fluid">
                <div class="workspace-layout">
                    <!-- Component Palette -->
                    <div class="component-palette">
                        <div class="palette-header">
                            <h3 class="palette-title">
                                <i class="fas fa-puzzle-piece mr-2"></i>
                                구성 요소
                            </h3>
                            <button class="palette-collapse-btn" onclick="togglePalette()">
                                <i class="fas fa-angle-left"></i>
                            </button>
                        </div>
                        
                        <div class="palette-search">
                            <div class="search-input-wrapper">
                                <i class="fas fa-search search-icon"></i>
                                <input type="text" class="search-input" placeholder="구성 요소 검색..." id="palette-search">
                            </div>
                        </div>
                        
                        <div class="palette-content">
                            <!-- 기본 문자 -->
                            <div class="component-category" data-category="basic">
                                <div class="category-header" onclick="toggleCategory('basic')">
                                    <i class="fas fa-font"></i>
                                    <span>기본 문자</span>
                                    <i class="fas fa-chevron-down toggle-icon"></i>
                                </div>
                                <div class="category-items">
                                    <div class="component-item" draggable="true" data-pattern="[a-z]" data-desc="소문자">
                                        <div class="component-icon">a-z</div>
                                        <div class="component-label">소문자</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="[A-Z]" data-desc="대문자">
                                        <div class="component-icon">A-Z</div>
                                        <div class="component-label">대문자</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="[0-9]" data-desc="숫자">
                                        <div class="component-icon">0-9</div>
                                        <div class="component-label">숫자</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="\\w" data-desc="영숫자">
                                        <div class="component-icon">\\w</div>
                                        <div class="component-label">영숫자</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="\\s" data-desc="공백">
                                        <div class="component-icon">\\s</div>
                                        <div class="component-label">공백</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="\\d" data-desc="숫자 단축">
                                        <div class="component-icon">\\d</div>
                                        <div class="component-label">숫자</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 수량자 -->
                            <div class="component-category" data-category="quantifiers">
                                <div class="category-header" onclick="toggleCategory('quantifiers')">
                                    <i class="fas fa-repeat"></i>
                                    <span>수량자</span>
                                    <i class="fas fa-chevron-down toggle-icon"></i>
                                </div>
                                <div class="category-items">
                                    <div class="component-item" draggable="true" data-pattern="*" data-desc="0회 이상">
                                        <div class="component-icon">*</div>
                                        <div class="component-label">0회 이상</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="+" data-desc="1회 이상">
                                        <div class="component-icon">+</div>
                                        <div class="component-label">1회 이상</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="?" data-desc="0~1회">
                                        <div class="component-icon">?</div>
                                        <div class="component-label">0~1회</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="{n}" data-desc="정확히 n회">
                                        <div class="component-icon">{n}</div>
                                        <div class="component-label">n회</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="{n,}" data-desc="n회 이상">
                                        <div class="component-icon">{n,}</div>
                                        <div class="component-label">n회 이상</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="{n,m}" data-desc="n~m회">
                                        <div class="component-icon">{n,m}</div>
                                        <div class="component-label">n~m회</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 앵커 -->
                            <div class="component-category" data-category="anchors">
                                <div class="category-header" onclick="toggleCategory('anchors')">
                                    <i class="fas fa-anchor"></i>
                                    <span>앵커</span>
                                    <i class="fas fa-chevron-down toggle-icon"></i>
                                </div>
                                <div class="category-items">
                                    <div class="component-item" draggable="true" data-pattern="^" data-desc="문자열 시작">
                                        <div class="component-icon">^</div>
                                        <div class="component-label">시작</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="$" data-desc="문자열 끝">
                                        <div class="component-icon">$</div>
                                        <div class="component-label">끝</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="\\b" data-desc="단어 경계">
                                        <div class="component-icon">\\b</div>
                                        <div class="component-label">단어 경계</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="\\B" data-desc="단어 내부">
                                        <div class="component-icon">\\B</div>
                                        <div class="component-label">단어 내부</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 그룹 -->
                            <div class="component-category" data-category="groups">
                                <div class="category-header" onclick="toggleCategory('groups')">
                                    <i class="fas fa-layer-group"></i>
                                    <span>그룹</span>
                                    <i class="fas fa-chevron-down toggle-icon"></i>
                                </div>
                                <div class="category-items">
                                    <div class="component-item" draggable="true" data-pattern="(...)" data-desc="캡처 그룹">
                                        <div class="component-icon">(...)</div>
                                        <div class="component-label">캡처 그룹</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="(?:...)" data-desc="비캡처 그룹">
                                        <div class="component-icon">(?:...)</div>
                                        <div class="component-label">비캡처</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="(?=...)" data-desc="긍정형 전방탐색">
                                        <div class="component-icon">(?=...)</div>
                                        <div class="component-label">전방탐색</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="(?!...)" data-desc="부정형 전방탐색">
                                        <div class="component-icon">(?!...)</div>
                                        <div class="component-label">부정 전방</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 특수 문자 -->
                            <div class="component-category" data-category="special">
                                <div class="category-header" onclick="toggleCategory('special')">
                                    <i class="fas fa-star"></i>
                                    <span>특수 문자</span>
                                    <i class="fas fa-chevron-down toggle-icon"></i>
                                </div>
                                <div class="category-items">
                                    <div class="component-item" draggable="true" data-pattern="." data-desc="임의 문자">
                                        <div class="component-icon">.</div>
                                        <div class="component-label">임의 문자</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="|" data-desc="OR 연산자">
                                        <div class="component-icon">|</div>
                                        <div class="component-label">OR</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="\\." data-desc="리터럴 점">
                                        <div class="component-icon">\\.</div>
                                        <div class="component-label">점(.)</div>
                                    </div>
                                    <div class="component-item" draggable="true" data-pattern="\\-" data-desc="리터럴 대시">
                                        <div class="component-icon">\\-</div>
                                        <div class="component-label">대시(-)</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Canvas Area -->
                    <div class="canvas-area">
                        <div class="canvas-header">
                            <h3 class="canvas-title">
                                <i class="fas fa-edit mr-2"></i>
                                패턴 구성
                            </h3>
                            <div class="canvas-actions">
                                <button class="canvas-btn" onclick="undoLastAction()" title="실행 취소">
                                    <i class="fas fa-undo"></i>
                                </button>
                                <button class="canvas-btn" onclick="redoLastAction()" title="다시 실행">
                                    <i class="fas fa-redo"></i>
                                </button>
                                <button class="canvas-btn" onclick="zoomIn()" title="확대">
                                    <i class="fas fa-search-plus"></i>
                                </button>
                                <button class="canvas-btn" onclick="zoomOut()" title="축소">
                                    <i class="fas fa-search-minus"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="canvas-container" id="canvas-container">
                            <div class="canvas-grid" id="canvas">
                                <div class="canvas-placeholder">
                                    <div class="placeholder-content">
                                        <i class="fas fa-magic"></i>
                                        <h3>패턴 만들기 시작하기</h3>
                                        <p>왼쪽에서 구성 요소를 드래그해서 여기에 놓으세요</p>
                                        <div class="placeholder-tips">
                                            <div class="tip-item">
                                                <i class="fas fa-lightbulb"></i>
                                                <span>팁: 구성 요소들을 연결해서 복잡한 패턴을 만들 수 있어요</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Drop zones will be generated here -->
                            </div>
                        </div>
                        
                        <!-- Pattern Preview -->
                        <div class="pattern-preview">
                            <div class="preview-header">
                                <h4 class="preview-title">생성된 정규식</h4>
                                <div class="preview-actions">
                                    <button class="preview-btn" onclick="copyPattern()" title="패턴 복사">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                    <button class="preview-btn" onclick="explainPattern()" title="패턴 설명">
                                        <i class="fas fa-info-circle"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="pattern-display">
                                <code class="pattern-code" id="generated-pattern">패턴이 여기에 표시됩니다</code>
                            </div>
                            <div class="pattern-flags">
                                <label class="flag-label">
                                    <input type="checkbox" id="flag-global" value="g">
                                    <span class="flag-text">g (전역)</span>
                                </label>
                                <label class="flag-label">
                                    <input type="checkbox" id="flag-ignorecase" value="i">
                                    <span class="flag-text">i (대소문자 무시)</span>
                                </label>
                                <label class="flag-label">
                                    <input type="checkbox" id="flag-multiline" value="m">
                                    <span class="flag-text">m (멀티라인)</span>
                                </label>
                                <label class="flag-label">
                                    <input type="checkbox" id="flag-dotall" value="s">
                                    <span class="flag-text">s (dotall)</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Properties Panel -->
                    <div class="properties-panel">
                        <div class="panel-header">
                            <h3 class="panel-title">
                                <i class="fas fa-cog mr-2"></i>
                                속성
                            </h3>
                            <button class="panel-collapse-btn" onclick="toggleProperties()">
                                <i class="fas fa-angle-right"></i>
                            </button>
                        </div>
                        
                        <div class="panel-content" id="properties-content">
                            <div class="no-selection">
                                <div class="no-selection-content">
                                    <i class="fas fa-mouse-pointer"></i>
                                    <p>구성 요소를 선택하여 속성을 편집하세요</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Templates Section -->
        <section class="templates-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">빠른 시작 템플릿</h2>
                    <p class="section-subtitle">자주 사용하는 패턴으로 빠르게 시작하세요</p>
                </div>
                
                <div class="templates-grid">
                    <div class="template-card" onclick="loadTemplate('email')">
                        <div class="template-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="template-content">
                            <h3 class="template-title">이메일 주소</h3>
                            <p class="template-desc">기본적인 이메일 주소 패턴</p>
                            <div class="template-pattern">
                                <code>[\w\.-]+@[\w\.-]+\.\w+</code>
                            </div>
                        </div>
                        <div class="template-actions">
                            <button class="template-load-btn">
                                <i class="fas fa-download"></i>
                                불러오기
                            </button>
                        </div>
                    </div>
                    
                    <div class="template-card" onclick="loadTemplate('phone')">
                        <div class="template-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="template-content">
                            <h3 class="template-title">전화번호</h3>
                            <p class="template-desc">한국 전화번호 형식</p>
                            <div class="template-pattern">
                                <code>0\d{1,2}-\d{3,4}-\d{4}</code>
                            </div>
                        </div>
                        <div class="template-actions">
                            <button class="template-load-btn">
                                <i class="fas fa-download"></i>
                                불러오기
                            </button>
                        </div>
                    </div>
                    
                    <div class="template-card" onclick="loadTemplate('url')">
                        <div class="template-icon">
                            <i class="fas fa-link"></i>
                        </div>
                        <div class="template-content">
                            <h3 class="template-title">URL</h3>
                            <p class="template-desc">HTTP/HTTPS URL 패턴</p>
                            <div class="template-pattern">
                                <code>https?://[\w\.-]+</code>
                            </div>
                        </div>
                        <div class="template-actions">
                            <button class="template-load-btn">
                                <i class="fas fa-download"></i>
                                불러오기
                            </button>
                        </div>
                    </div>
                    
                    <div class="template-card" onclick="loadTemplate('password')">
                        <div class="template-icon">
                            <i class="fas fa-key"></i>
                        </div>
                        <div class="template-content">
                            <h3 class="template-title">비밀번호</h3>
                            <p class="template-desc">강력한 비밀번호 패턴</p>
                            <div class="template-pattern">
                                <code>^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)</code>
                            </div>
                        </div>
                        <div class="template-actions">
                            <button class="template-load-btn">
                                <i class="fas fa-download"></i>
                                불러오기
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Help Section -->
        <section class="help-section">
            <div class="container">
                <div class="help-content">
                    <div class="help-header">
                        <h2 class="help-title">
                            <i class="fas fa-question-circle mr-2"></i>
                            시각적 빌더 사용법
                        </h2>
                        <p class="help-subtitle">드래그 앤 드롭으로 정규식을 쉽게 만드는 방법을 알아보세요</p>
                    </div>
                    
                    <div class="help-steps">
                        <div class="help-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3 class="step-title">구성 요소 선택</h3>
                                <p class="step-desc">왼쪽 팔레트에서 원하는 구성 요소를 선택하세요</p>
                            </div>
                        </div>
                        
                        <div class="help-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3 class="step-title">캔버스에 배치</h3>
                                <p class="step-desc">선택한 구성 요소를 가운데 캔버스로 드래그하세요</p>
                            </div>
                        </div>
                        
                        <div class="help-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3 class="step-title">연결 및 조정</h3>
                                <p class="step-desc">구성 요소들을 연결하고 속성을 조정하세요</p>
                            </div>
                        </div>
                        
                        <div class="help-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h3 class="step-title">테스트 및 사용</h3>
                                <p class="step-desc">생성된 패턴을 테스터에서 확인하고 내보내세요</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <i class="fas fa-code-branch"></i>
                        <span>NEO Regex</span>
                    </div>
                    <p class="footer-description">
                        개발자를 위한 차세대 정규식 도구
                    </p>
                </div>
                
                <div class="footer-links">
                    <div class="footer-column">
                        <h4 class="footer-title">도구</h4>
                        <a href="./tester.html" class="footer-link">정규식 테스터</a>
                        <a href="./library.html" class="footer-link">패턴 라이브러리</a>
                        <a href="./builder.html" class="footer-link">시각적 빌더</a>
                    </div>
                    
                    <div class="footer-column">
                        <h4 class="footer-title">가이드</h4>
                        <a href="./beginner.html" class="footer-link">초보자 가이드</a>
                        <a href="./expert.html" class="footer-link">전문가 도구</a>
                        <a href="#" class="footer-link">튜토리얼</a>
                    </div>
                    
                    <div class="footer-column">
                        <h4 class="footer-title">지원</h4>
                        <a href="#" class="footer-link">문서</a>
                        <a href="#" class="footer-link">FAQ</a>
                        <a href="#" class="footer-link">문의하기</a>
                    </div>
                    
                    <div class="footer-column">
                        <h4 class="footer-title">소셜</h4>
                        <a href="#" class="footer-link">GitHub</a>
                        <a href="#" class="footer-link">Discord</a>
                        <a href="#" class="footer-link">Twitter</a>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="footer-bottom-content">
                    <p>&copy; 2024 NEO Regex. All rights reserved.</p>
                    <div class="footer-bottom-links">
                        <a href="#" class="footer-bottom-link">개인정보 처리방침</a>
                        <a href="#" class="footer-bottom-link">이용약관</a>
                        <a href="#" class="footer-bottom-link">쿠키 정책</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="./src/main.js"></script>
    <script src="./src/core/regex.js"></script>
    <script src="./src/pages/builder.js"></script>
    
    <!-- Notification Container -->
    <div id="notification-container" class="notification-container"></div>
</body>
</html>